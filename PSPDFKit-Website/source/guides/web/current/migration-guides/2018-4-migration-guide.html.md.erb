---
title: 2018.4 Migration Guide
section: developers

order: 501
---

[PSPDFKit for Web 2018.4][] adds support for shape annotations (lines, rectangles, ellipses, polylines, and polygons), blend modes, and much more.

If you’re maintaining a Server installation, be sure to check out the [2018.4 Server Migration Guide][].

### API Changes

- This version removes the `Instance#renderCover` API method in favor of [`Instance#renderPageAsArrayBuffer`][]. We deprecated this API in [PSPDFKit 2018.2][2018.2 web migration guide].

### Notable Changes

- All [covers][cover endpoint] will now contain annotations as well.
- The following classes are now used for dropdowns instead of sliders:
  - `.PSPDFKit-Ink-Annotation-Toolbar-Opacity`
  - `.PSPDFKit-Ink-Annotation-Toolbar-Line-Width`
  - `.PSPDFKit-Text-Annotation-Toolbar-Opacity`
  - `.PSPDFKit-Text-Markup-Annotation-Toolbar-Opacity`
- The `.ColorSet` class was replaced by `.PSPDFKit-Input-Color-Dropdown`.
  The color dropdowns are now separated into foreground and background color for each annotation.
  The combinations for the annotations are:
  - Text: `.PSPDFKit-Text-Annotation-Toolbar-Font-Color` / `.PSPDFKit-Text-Annotation-Toolbar-Background-Color`
  - Ink: `.PSPDFKit-Ink-Annotation-Toolbar-Stroke-Color` / `.PSPDFKit-Ink-Annotation-Toolbar-Background-Color`
- The order of [`defaultToolbarItems`][] was changed.
- A new toolbar item for shape annotations was added to the [`defaultToolbarItems`][].
- We fixed an issue with PDFs that didn’t have permissions to modify annotations and forms. These PDFs did not render any forms before.

For a full list of changes, check out the [changelog][].

[pspdfkit for web 2018.4]: https://pspdfkit.com/blog/2018/pspdfkit-web-2018-4/
[changelog]: https://pspdfkit.com/changelog/web/#2018.4
[cover endpoint]: https://pspdfkit.com/guides/server/current/client-api/render-images/#render-a-cover-image-of-a-document-into-an-img-tag
[`defaulttoolbaritems`]: https://pspdfkit.com/api/web/PSPDFKit.html#.defaultToolbarItems
[2018.4 server migration guide]: https://pspdfkit.com/guides/server/current/migration-guides/2018-4-migration-guide/
[2018.2 web migration guide]: https://pspdfkit.com/guides/web/current/migration-guides/2018-2-migration-guide/#render-bitmaps-732135
[`instance#renderpageasarraybuffer`]: https://pspdfkit.com/api/web/PSPDFKit.Instance.html#renderPageAsArrayBuffer
